{"ast":null,"code":"import { createStore } from \"redux\";\n\n// Action Types\nconst AJOUTER = \"AJOUTER\";\nconst INCREMENTER = \"INCREMENTER\";\nconst DECREMENTER = \"DECREMENTER\";\nconst SUPPRIMER = \"SUPPRIMER\";\n\n// Actions\nexport const ajouter = produit => ({\n  type: AJOUTER,\n  payload: produit\n});\nexport const incrementer = id => ({\n  type: INCREMENTER,\n  payload: id\n});\nexport const decrementer = id => ({\n  type: DECREMENTER,\n  payload: id\n});\nexport const supprimer = id => ({\n  type: SUPPRIMER,\n  payload: id\n});\n\n// Reducer\nconst initialState = {\n  panier: []\n};\nconst panierReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case AJOUTER:\n      const produitExistant = state.panier.find(item => item.id === action.payload.id);\n      if (produitExistant) {\n        return {\n          ...state,\n          panier: state.panier.map(item => item.id === action.payload.id ? {\n            ...item,\n            qte: item.qte + action.payload.qte\n          } : item)\n        };\n      } else {\n        return {\n          ...state,\n          panier: [...state.panier, action.payload]\n        };\n      }\n    case INCREMENTER:\n      return {\n        ...state,\n        panier: state.panier.map(item => item.id === action.payload ? {\n          ...item,\n          qte: item.qte + 1\n        } : item)\n      };\n    case DECREMENTER:\n      return {\n        ...state,\n        panier: state.panier.map(item => item.id === action.payload && item.qte > 1 ? {\n          ...item,\n          qte: item.qte - 1\n        } : item)\n      };\n    case SUPPRIMER:\n      return {\n        ...state,\n        panier: state.panier.filter(item => item.id !== action.payload)\n      };\n    default:\n      return state;\n  }\n};\nexport const store = createStore(panierReducer);","map":{"version":3,"names":["createStore","AJOUTER","INCREMENTER","DECREMENTER","SUPPRIMER","ajouter","produit","type","payload","incrementer","id","decrementer","supprimer","initialState","panier","panierReducer","state","action","produitExistant","find","item","map","qte","filter","store"],"sources":["C:/Users/AymanNb/react/src/Les Fonctionalites/Revision/tp2/components/store.jsx"],"sourcesContent":["import { createStore } from \"redux\";\r\n\r\n// Action Types\r\nconst AJOUTER = \"AJOUTER\";\r\nconst INCREMENTER = \"INCREMENTER\";\r\nconst DECREMENTER = \"DECREMENTER\";\r\nconst SUPPRIMER = \"SUPPRIMER\";\r\n\r\n// Actions\r\nexport const ajouter = (produit) => ({\r\n  type: AJOUTER,\r\n  payload: produit,\r\n});\r\n\r\nexport const incrementer = (id) => ({\r\n  type: INCREMENTER,\r\n  payload: id,\r\n});\r\n\r\nexport const decrementer = (id) => ({\r\n  type: DECREMENTER,\r\n  payload: id,\r\n});\r\n\r\nexport const supprimer = (id) => ({\r\n  type: SUPPRIMER,\r\n  payload: id,\r\n});\r\n\r\n// Reducer\r\nconst initialState = {\r\n  panier: [],\r\n};\r\n\r\nconst panierReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case AJOUTER:\r\n      const produitExistant = state.panier.find(\r\n        (item) => item.id === action.payload.id\r\n      );\r\n      if (produitExistant) {\r\n        return {\r\n          ...state,\r\n          panier: state.panier.map((item) =>\r\n            item.id === action.payload.id\r\n              ? { ...item, qte: item.qte + action.payload.qte }\r\n              : item\r\n          ),\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          panier: [...state.panier, action.payload],\r\n        };\r\n      }\r\n\r\n    case INCREMENTER:\r\n      return {\r\n        ...state,\r\n        panier: state.panier.map((item) =>\r\n          item.id === action.payload ? { ...item, qte: item.qte + 1 } : item\r\n        ),\r\n      };\r\n\r\n    case DECREMENTER:\r\n      return {\r\n        ...state,\r\n        panier: state.panier.map((item) =>\r\n          item.id === action.payload && item.qte > 1\r\n            ? { ...item, qte: item.qte - 1 }\r\n            : item\r\n        ),\r\n      };\r\n\r\n    case SUPPRIMER:\r\n      return {\r\n        ...state,\r\n        panier: state.panier.filter((item) => item.id !== action.payload),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const store = createStore(panierReducer);\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;;AAEnC;AACA,MAAMC,OAAO,GAAG,SAAS;AACzB,MAAMC,WAAW,GAAG,aAAa;AACjC,MAAMC,WAAW,GAAG,aAAa;AACjC,MAAMC,SAAS,GAAG,WAAW;;AAE7B;AACA,OAAO,MAAMC,OAAO,GAAIC,OAAO,KAAM;EACnCC,IAAI,EAAEN,OAAO;EACbO,OAAO,EAAEF;AACX,CAAC,CAAC;AAEF,OAAO,MAAMG,WAAW,GAAIC,EAAE,KAAM;EAClCH,IAAI,EAAEL,WAAW;EACjBM,OAAO,EAAEE;AACX,CAAC,CAAC;AAEF,OAAO,MAAMC,WAAW,GAAID,EAAE,KAAM;EAClCH,IAAI,EAAEJ,WAAW;EACjBK,OAAO,EAAEE;AACX,CAAC,CAAC;AAEF,OAAO,MAAME,SAAS,GAAIF,EAAE,KAAM;EAChCH,IAAI,EAAEH,SAAS;EACfI,OAAO,EAAEE;AACX,CAAC,CAAC;;AAEF;AACA,MAAMG,YAAY,GAAG;EACnBC,MAAM,EAAE;AACV,CAAC;AAED,MAAMC,aAAa,GAAGA,CAACC,KAAK,GAAGH,YAAY,EAAEI,MAAM,KAAK;EACtD,QAAQA,MAAM,CAACV,IAAI;IACjB,KAAKN,OAAO;MACV,MAAMiB,eAAe,GAAGF,KAAK,CAACF,MAAM,CAACK,IAAI,CACtCC,IAAI,IAAKA,IAAI,CAACV,EAAE,KAAKO,MAAM,CAACT,OAAO,CAACE,EACvC,CAAC;MACD,IAAIQ,eAAe,EAAE;QACnB,OAAO;UACL,GAAGF,KAAK;UACRF,MAAM,EAAEE,KAAK,CAACF,MAAM,CAACO,GAAG,CAAED,IAAI,IAC5BA,IAAI,CAACV,EAAE,KAAKO,MAAM,CAACT,OAAO,CAACE,EAAE,GACzB;YAAE,GAAGU,IAAI;YAAEE,GAAG,EAAEF,IAAI,CAACE,GAAG,GAAGL,MAAM,CAACT,OAAO,CAACc;UAAI,CAAC,GAC/CF,IACN;QACF,CAAC;MACH,CAAC,MAAM;QACL,OAAO;UACL,GAAGJ,KAAK;UACRF,MAAM,EAAE,CAAC,GAAGE,KAAK,CAACF,MAAM,EAAEG,MAAM,CAACT,OAAO;QAC1C,CAAC;MACH;IAEF,KAAKN,WAAW;MACd,OAAO;QACL,GAAGc,KAAK;QACRF,MAAM,EAAEE,KAAK,CAACF,MAAM,CAACO,GAAG,CAAED,IAAI,IAC5BA,IAAI,CAACV,EAAE,KAAKO,MAAM,CAACT,OAAO,GAAG;UAAE,GAAGY,IAAI;UAAEE,GAAG,EAAEF,IAAI,CAACE,GAAG,GAAG;QAAE,CAAC,GAAGF,IAChE;MACF,CAAC;IAEH,KAAKjB,WAAW;MACd,OAAO;QACL,GAAGa,KAAK;QACRF,MAAM,EAAEE,KAAK,CAACF,MAAM,CAACO,GAAG,CAAED,IAAI,IAC5BA,IAAI,CAACV,EAAE,KAAKO,MAAM,CAACT,OAAO,IAAIY,IAAI,CAACE,GAAG,GAAG,CAAC,GACtC;UAAE,GAAGF,IAAI;UAAEE,GAAG,EAAEF,IAAI,CAACE,GAAG,GAAG;QAAE,CAAC,GAC9BF,IACN;MACF,CAAC;IAEH,KAAKhB,SAAS;MACZ,OAAO;QACL,GAAGY,KAAK;QACRF,MAAM,EAAEE,KAAK,CAACF,MAAM,CAACS,MAAM,CAAEH,IAAI,IAAKA,IAAI,CAACV,EAAE,KAAKO,MAAM,CAACT,OAAO;MAClE,CAAC;IAEH;MACE,OAAOQ,KAAK;EAChB;AACF,CAAC;AAED,OAAO,MAAMQ,KAAK,GAAGxB,WAAW,CAACe,aAAa,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}